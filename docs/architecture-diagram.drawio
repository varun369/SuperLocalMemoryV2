<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2026-02-13T00:00:00.000Z" agent="SuperLocalMemory V2" version="24.0.0" type="device">
  <diagram id="slm-v2-architecture" name="10-Layer Architecture">
    <mxGraphModel dx="1422" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1200" pageHeight="900" background="#0A0E1A" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- ============================================================ -->
        <!-- TITLE AND SUBTITLE                                           -->
        <!-- ============================================================ -->
        <mxCell id="title" value="&lt;font color=&#39;#FFFFFF&#39; style=&#39;font-size:22px;font-weight:bold;&#39;&gt;SuperLocalMemory V2 &amp;mdash; 10-Layer Architecture&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="250" y="15" width="700" height="35" as="geometry" />
        </mxCell>
        <mxCell id="subtitle" value="&lt;font color=&#39;#94A3B8&#39; style=&#39;font-size:13px;&#39;&gt;MCP + A2A Dual Protocol &amp;bull; Local-First &amp;bull; Privacy-First &amp;bull; Zero Cloud Dependencies&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="310" y="48" width="580" height="25" as="geometry" />
        </mxCell>

        <!-- ============================================================ -->
        <!-- 10-LAYER STACK (bottom to top, positioned from y=780 upward) -->
        <!-- Each layer: 520w x 55h, centered at x=340                    -->
        <!-- ============================================================ -->

        <!-- Layer 1: Raw Storage -->
        <mxCell id="L1" value="&lt;b&gt;Layer 1: Raw Storage&lt;/b&gt;&lt;br&gt;&lt;font style=&#39;font-size:10px;color:#FEFCE8;&#39;&gt;src/memory_store_v2.py &amp;mdash; SQLite + FTS5 + TF-IDF vectors&lt;br&gt;DB: ~/.claude-memory/memory.db&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F59E0B;fontColor=#1E1B0F;strokeColor=#D97706;arcSize=8;fontSize=12;align=center;verticalAlign=middle;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="750" width="520" height="58" as="geometry" />
        </mxCell>

        <!-- Layer 2: Hierarchical Index -->
        <mxCell id="L2" value="&lt;b&gt;Layer 2: Hierarchical Index&lt;/b&gt;&lt;br&gt;&lt;font style=&#39;font-size:10px;color:#FFF7ED;&#39;&gt;src/tree_manager.py &amp;mdash; Parent-child relationships, breadcrumb navigation&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F97316;fontColor=#1E1B0F;strokeColor=#EA580C;arcSize=8;fontSize=12;align=center;verticalAlign=middle;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="685" width="520" height="55" as="geometry" />
        </mxCell>

        <!-- Layer 3: Knowledge Graph -->
        <mxCell id="L3" value="&lt;b&gt;Layer 3: Knowledge Graph&lt;/b&gt;&lt;br&gt;&lt;font style=&#39;font-size:10px;color:#FFF1F2;&#39;&gt;src/graph_engine.py &amp;mdash; TF-IDF entity extraction, hierarchical Leiden clustering, community summaries&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EF4444;fontColor=#1E1B0F;strokeColor=#DC2626;arcSize=8;fontSize=12;align=center;verticalAlign=middle;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="620" width="520" height="55" as="geometry" />
        </mxCell>

        <!-- Layer 4: Pattern Learning -->
        <mxCell id="L4" value="&lt;b&gt;Layer 4: Pattern Learning&lt;/b&gt;&lt;br&gt;&lt;font style=&#39;font-size:10px;color:#FDF2F8;&#39;&gt;src/pattern_learner.py &amp;mdash; MACLA Beta-Binomial Bayesian confidence scoring&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EC4899;fontColor=#1E1B0F;strokeColor=#DB2777;arcSize=8;fontSize=12;align=center;verticalAlign=middle;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="555" width="520" height="55" as="geometry" />
        </mxCell>

        <!-- Layer 5: Skills Layer -->
        <mxCell id="L5" value="&lt;b&gt;Layer 5: Skills Layer&lt;/b&gt;&lt;br&gt;&lt;font style=&#39;font-size:10px;color:#FAF5FF;&#39;&gt;skills/* &amp;mdash; 6 slash-command skills (Claude Code, Continue.dev, Cody)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#A855F7;fontColor=#FFFFFF;strokeColor=#9333EA;arcSize=8;fontSize=12;align=center;verticalAlign=middle;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="490" width="520" height="55" as="geometry" />
        </mxCell>

        <!-- Layer 6: MCP Integration -->
        <mxCell id="L6" value="&lt;b&gt;Layer 6: MCP Integration&lt;/b&gt;&lt;br&gt;&lt;font style=&#39;font-size:10px;color:#EDE9FE;&#39;&gt;mcp_server.py &amp;mdash; 6 tools, 4 resources, 2 prompts via Model Context Protocol&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#8B5CF6;fontColor=#FFFFFF;strokeColor=#7C3AED;arcSize=8;fontSize=12;align=center;verticalAlign=middle;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="425" width="520" height="55" as="geometry" />
        </mxCell>

        <!-- Layer 7: Universal Access -->
        <mxCell id="L7" value="&lt;b&gt;Layer 7: Universal Access&lt;/b&gt;&lt;br&gt;&lt;font style=&#39;font-size:10px;color:#EEF2FF;&#39;&gt;MCP + Skills + CLI &amp;mdash; 3 access methods, 16+ IDE integrations&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#6366F1;fontColor=#FFFFFF;strokeColor=#4F46E5;arcSize=8;fontSize=12;align=center;verticalAlign=middle;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="360" width="520" height="55" as="geometry" />
        </mxCell>

        <!-- Layer 8: Hybrid Search -->
        <mxCell id="L8" value="&lt;b&gt;Layer 8: Hybrid Search&lt;/b&gt;&lt;br&gt;&lt;font style=&#39;font-size:10px;color:#EFF6FF;&#39;&gt;src/hybrid_search.py &amp;mdash; Semantic + FTS5 + Graph combined retrieval&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3B82F6;fontColor=#FFFFFF;strokeColor=#2563EB;arcSize=8;fontSize=12;align=center;verticalAlign=middle;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="295" width="520" height="55" as="geometry" />
        </mxCell>

        <!-- Layer 9: Visualization -->
        <mxCell id="L9" value="&lt;b&gt;Layer 9: Visualization&lt;/b&gt;&lt;br&gt;&lt;font style=&#39;font-size:10px;color:#ECFEFF;&#39;&gt;ui_server.py &amp;mdash; Interactive web dashboard, timeline, graph explorer&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#06B6D4;fontColor=#FFFFFF;strokeColor=#0891B2;arcSize=8;fontSize=12;align=center;verticalAlign=middle;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="230" width="520" height="55" as="geometry" />
        </mxCell>

        <!-- Layer 10: A2A Agent Collaboration -->
        <mxCell id="L10" value="&lt;b&gt;Layer 10: A2A Agent Collaboration&lt;/b&gt;&lt;br&gt;&lt;font style=&#39;font-size:10px;color:#ECFDF5;&#39;&gt;src/a2a_server.py (PLANNED v2.7) &amp;mdash; Agent-to-Agent Protocol (Google/Linux Foundation)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#10B981;fontColor=#FFFFFF;strokeColor=#059669;arcSize=8;fontSize=12;align=center;verticalAlign=middle;shadow=1;dashed=1;dashPattern=8 4;" vertex="1" parent="1">
          <mxGeometry x="340" y="165" width="520" height="55" as="geometry" />
        </mxCell>

        <!-- ============================================================ -->
        <!-- INTER-LAYER ARROWS (data flow upward)                        -->
        <!-- ============================================================ -->
        <mxCell id="arrow_L1_L2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#475569;strokeWidth=1;endArrow=block;endFill=1;opacity=40;" edge="1" source="L1" target="L2" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_L2_L3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#475569;strokeWidth=1;endArrow=block;endFill=1;opacity=40;" edge="1" source="L2" target="L3" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_L3_L4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#475569;strokeWidth=1;endArrow=block;endFill=1;opacity=40;" edge="1" source="L3" target="L4" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_L4_L5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#475569;strokeWidth=1;endArrow=block;endFill=1;opacity=40;" edge="1" source="L4" target="L5" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_L5_L6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#475569;strokeWidth=1;endArrow=block;endFill=1;opacity=40;" edge="1" source="L5" target="L6" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_L6_L7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#475569;strokeWidth=1;endArrow=block;endFill=1;opacity=40;" edge="1" source="L6" target="L7" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_L7_L8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#475569;strokeWidth=1;endArrow=block;endFill=1;opacity=40;" edge="1" source="L7" target="L8" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_L8_L9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#475569;strokeWidth=1;endArrow=block;endFill=1;opacity=40;" edge="1" source="L8" target="L9" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_L9_L10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#475569;strokeWidth=1;endArrow=block;endFill=1;opacity=40;dashed=1;dashPattern=8 4;" edge="1" source="L9" target="L10" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ============================================================ -->
        <!-- LEFT SIDE: MCP PROTOCOL PATH (Agent -> Tool) — LIVE          -->
        <!-- ============================================================ -->

        <!-- MCP Path Vertical Bar -->
        <mxCell id="mcp_path" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#8B5CF6;strokeColor=#7C3AED;opacity=20;arcSize=12;" vertex="1" parent="1">
          <mxGeometry x="55" y="165" width="255" height="660" as="geometry" />
        </mxCell>

        <!-- MCP Path Label -->
        <mxCell id="mcp_label" value="&lt;font color=&#39;#C4B5FD&#39; style=&#39;font-size:14px;font-weight:bold;&#39;&gt;MCP Protocol&lt;/font&gt;&lt;br&gt;&lt;font color=&#39;#A78BFA&#39; style=&#39;font-size:11px;&#39;&gt;Agent &amp;rarr; Tool&lt;/font&gt;&lt;br&gt;&lt;font color=&#39;#22C55E&#39; style=&#39;font-size:10px;font-weight:bold;&#39;&gt;LIVE&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="110" y="172" width="140" height="60" as="geometry" />
        </mxCell>

        <!-- MCP Connected IDEs -->
        <mxCell id="mcp_ide1" value="&lt;font style=&#39;font-size:10px;&#39;&gt;&lt;b&gt;Claude Desktop&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1E1B4B;fontColor=#C4B5FD;strokeColor=#6D28D9;arcSize=14;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="245" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mcp_ide2" value="&lt;font style=&#39;font-size:10px;&#39;&gt;&lt;b&gt;Cursor&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1E1B4B;fontColor=#C4B5FD;strokeColor=#6D28D9;arcSize=14;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="190" y="245" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mcp_ide3" value="&lt;font style=&#39;font-size:10px;&#39;&gt;&lt;b&gt;Windsurf&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1E1B4B;fontColor=#C4B5FD;strokeColor=#6D28D9;arcSize=14;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="285" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mcp_ide4" value="&lt;font style=&#39;font-size:10px;&#39;&gt;&lt;b&gt;VS Code / Copilot&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1E1B4B;fontColor=#C4B5FD;strokeColor=#6D28D9;arcSize=14;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="190" y="285" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mcp_ide5" value="&lt;font style=&#39;font-size:10px;&#39;&gt;&lt;b&gt;Continue.dev&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1E1B4B;fontColor=#C4B5FD;strokeColor=#6D28D9;arcSize=14;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="325" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mcp_ide6" value="&lt;font style=&#39;font-size:10px;&#39;&gt;&lt;b&gt;Zed&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1E1B4B;fontColor=#C4B5FD;strokeColor=#6D28D9;arcSize=14;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="190" y="325" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mcp_ide_more" value="&lt;font style=&#39;font-size:10px;color:#94A3B8;&#39;&gt;+ 10 more IDEs...&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="115" y="360" width="120" height="25" as="geometry" />
        </mxCell>

        <!-- MCP Tools Detail -->
        <mxCell id="mcp_tools" value="&lt;font color=&#39;#C4B5FD&#39; style=&#39;font-size:10px;&#39;&gt;&lt;b&gt;MCP Capabilities:&lt;/b&gt;&lt;br&gt;6 Tools: remember, recall, search,&lt;br&gt;forget, list, build-graph&lt;br&gt;4 Resources: status, recent, stats, graph&lt;br&gt;2 Prompts: context, summary&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1E1B4B;fontColor=#C4B5FD;strokeColor=#4C1D95;arcSize=10;fontSize=10;align=left;spacingLeft=10;" vertex="1" parent="1">
          <mxGeometry x="70" y="395" width="230" height="80" as="geometry" />
        </mxCell>

        <!-- MCP CLI & Skills -->
        <mxCell id="mcp_cli" value="&lt;font color=&#39;#C4B5FD&#39; style=&#39;font-size:10px;&#39;&gt;&lt;b&gt;CLI:&lt;/b&gt; slm remember | recall | status&lt;br&gt;&lt;b&gt;Skills:&lt;/b&gt; /superlocalmemoryv2:*&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1E1B4B;fontColor=#C4B5FD;strokeColor=#4C1D95;arcSize=10;fontSize=10;align=left;spacingLeft=10;" vertex="1" parent="1">
          <mxGeometry x="70" y="485" width="230" height="45" as="geometry" />
        </mxCell>

        <!-- MCP Arrow to Layer 6 -->
        <mxCell id="mcp_arrow_to_stack" value="" style="endArrow=block;endFill=1;html=1;strokeColor=#8B5CF6;strokeWidth=2;rounded=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" source="mcp_tools" target="L6" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mcp_arrow_to_L7" value="" style="endArrow=block;endFill=1;html=1;strokeColor=#8B5CF6;strokeWidth=2;rounded=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" source="mcp_cli" target="L7" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- MCP Arrow to Layer 5 (Skills) -->
        <mxCell id="mcp_arrow_to_L5" value="" style="endArrow=block;endFill=1;html=1;strokeColor=#8B5CF6;strokeWidth=1.5;rounded=1;exitX=1;exitY=0.8;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=0;" edge="1" source="mcp_cli" target="L5" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Database icon at bottom left -->
        <mxCell id="db_icon" value="&lt;font color=&#39;#F59E0B&#39; style=&#39;font-size:11px;font-weight:bold;&#39;&gt;SQLite DB&lt;/font&gt;&lt;br&gt;&lt;font color=&#39;#94A3B8&#39; style=&#39;font-size:9px;&#39;&gt;~/.claude-memory/&lt;br&gt;memory.db&lt;/font&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=6;fillColor=#1C1917;strokeColor=#F59E0B;fontColor=#F59E0B;arcSize=8;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="115" y="710" width="130" height="70" as="geometry" />
        </mxCell>
        <!-- DB Arrow to Layer 1 -->
        <mxCell id="db_arrow" value="" style="endArrow=block;endFill=1;html=1;strokeColor=#F59E0B;strokeWidth=2;rounded=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" source="db_icon" target="L1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ============================================================ -->
        <!-- RIGHT SIDE: A2A PROTOCOL PATH (Agent <-> Agent) — PLANNED    -->
        <!-- ============================================================ -->

        <!-- A2A Path Vertical Bar -->
        <mxCell id="a2a_path" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#10B981;strokeColor=#059669;opacity=15;arcSize=12;dashed=1;dashPattern=12 6;" vertex="1" parent="1">
          <mxGeometry x="890" y="165" width="280" height="430" as="geometry" />
        </mxCell>

        <!-- A2A Path Label -->
        <mxCell id="a2a_label" value="&lt;font color=&#39;#6EE7B7&#39; style=&#39;font-size:14px;font-weight:bold;&#39;&gt;A2A Protocol&lt;/font&gt;&lt;br&gt;&lt;font color=&#39;#34D399&#39; style=&#39;font-size:11px;&#39;&gt;Agent &amp;harr; Agent&lt;/font&gt;&lt;br&gt;&lt;font color=&#39;#FBBF24&#39; style=&#39;font-size:10px;font-weight:bold;&#39;&gt;PLANNED v2.7&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="960" y="172" width="140" height="60" as="geometry" />
        </mxCell>

        <!-- A2A Connected Agents -->
        <mxCell id="a2a_agent1" value="&lt;font style=&#39;font-size:10px;&#39;&gt;&lt;b&gt;Research Agent&lt;/b&gt;&lt;br&gt;(Perplexity)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#064E3B;fontColor=#6EE7B7;strokeColor=#059669;arcSize=14;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="905" y="245" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="a2a_agent2" value="&lt;font style=&#39;font-size:10px;&#39;&gt;&lt;b&gt;Coding Agent&lt;/b&gt;&lt;br&gt;(Claude Code)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#064E3B;fontColor=#6EE7B7;strokeColor=#059669;arcSize=14;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1035" y="245" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="a2a_agent3" value="&lt;font style=&#39;font-size:10px;&#39;&gt;&lt;b&gt;Testing Agent&lt;/b&gt;&lt;br&gt;(Codex)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#064E3B;fontColor=#6EE7B7;strokeColor=#059669;arcSize=14;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="905" y="295" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="a2a_agent4" value="&lt;font style=&#39;font-size:10px;&#39;&gt;&lt;b&gt;Review Agent&lt;/b&gt;&lt;br&gt;(Custom)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#064E3B;fontColor=#6EE7B7;strokeColor=#059669;arcSize=14;fontSize=10;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1035" y="295" width="120" height="40" as="geometry" />
        </mxCell>

        <!-- A2A Protocol Details -->
        <mxCell id="a2a_details" value="&lt;font color=&#39;#6EE7B7&#39; style=&#39;font-size:10px;&#39;&gt;&lt;b&gt;A2A Capabilities:&lt;/b&gt;&lt;br&gt;JSON-RPC 2.0 + SSE Streaming&lt;br&gt;Agent Card Discovery&lt;br&gt;gRPC + JSON-RPC Dual Transport&lt;br&gt;Ed25519 Signed Security Cards&lt;br&gt;150+ orgs (Google, MS, AWS, IBM)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#064E3B;fontColor=#6EE7B7;strokeColor=#065F46;arcSize=10;fontSize=10;align=left;spacingLeft=10;" vertex="1" parent="1">
          <mxGeometry x="910" y="350" width="245" height="90" as="geometry" />
        </mxCell>

        <!-- A2A Key Insight -->
        <mxCell id="a2a_insight" value="&lt;font color=&#39;#FBBF24&#39; style=&#39;font-size:9px;&#39;&gt;&lt;b&gt;Key Insight:&lt;/b&gt; A2A has NO shared memory.&lt;br&gt;SLM fills this gap as the universal&lt;br&gt;memory layer for all agents.&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#422006;fontColor=#FBBF24;strokeColor=#92400E;arcSize=10;fontSize=9;align=center;dashed=1;dashPattern=4 4;" vertex="1" parent="1">
          <mxGeometry x="920" y="455" width="225" height="50" as="geometry" />
        </mxCell>

        <!-- A2A Arrow to Layer 10 -->
        <mxCell id="a2a_arrow_to_L10" value="" style="endArrow=block;endFill=1;html=1;strokeColor=#10B981;strokeWidth=2;rounded=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=8 4;" edge="1" source="a2a_details" target="L10" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Bidirectional arrow showing A2A is bidirectional -->
        <mxCell id="a2a_bidir" value="" style="endArrow=block;startArrow=block;endFill=1;startFill=1;html=1;strokeColor=#10B981;strokeWidth=1.5;rounded=1;dashed=1;dashPattern=6 3;" edge="1" source="a2a_agent1" target="a2a_agent2" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ============================================================ -->
        <!-- v2.5 COMPONENTS GROUP (right side, below A2A)                -->
        <!-- ============================================================ -->

        <!-- v2.5 Group Container -->
        <mxCell id="v25_group" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#F59E0B;arcSize=6;dashed=1;dashPattern=8 4;strokeWidth=2;opacity=80;" vertex="1" parent="1">
          <mxGeometry x="890" y="610" width="280" height="210" as="geometry" />
        </mxCell>

        <!-- v2.5 Group Title -->
        <mxCell id="v25_title" value="&lt;font color=&#39;#F59E0B&#39; style=&#39;font-size:12px;font-weight:bold;&#39;&gt;v2.5 Components&lt;/font&gt;&lt;br&gt;&lt;font color=&#39;#FBBF24&#39; style=&#39;font-size:9px;&#39;&gt;IN DEVELOPMENT&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="960" y="615" width="140" height="38" as="geometry" />
        </mxCell>

        <!-- v2.5: db_connection_manager (PREREQUISITE) -->
        <mxCell id="v25_db" value="&lt;font style=&#39;font-size:9px;&#39;&gt;&lt;b&gt;db_connection_manager.py&lt;/b&gt;&lt;br&gt;WAL mode, pool, write queue&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#78350F;fontColor=#FDE68A;strokeColor=#F59E0B;arcSize=12;fontSize=9;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="655" width="125" height="36" as="geometry" />
        </mxCell>
        <mxCell id="v25_prereq_badge" value="&lt;font color=&#39;#FEF3C7&#39; style=&#39;font-size:7px;font-weight:bold;&#39;&gt;PREREQUISITE&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DC2626;fontColor=#FEF3C7;strokeColor=#DC2626;arcSize=20;fontSize=7;" vertex="1" parent="1">
          <mxGeometry x="1030" y="655" width="70" height="16" as="geometry" />
        </mxCell>

        <!-- v2.5: event_bus -->
        <mxCell id="v25_eventbus" value="&lt;font style=&#39;font-size:9px;&#39;&gt;&lt;b&gt;event_bus.py&lt;/b&gt;&lt;br&gt;SSE/WebSocket/Webhook&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#78350F;fontColor=#FDE68A;strokeColor=#B45309;arcSize=12;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="1035" y="675" width="125" height="36" as="geometry" />
        </mxCell>

        <!-- v2.5: subscription_manager -->
        <mxCell id="v25_sub" value="&lt;font style=&#39;font-size:9px;&#39;&gt;&lt;b&gt;subscription_manager.py&lt;/b&gt;&lt;br&gt;Durable/ephemeral subs&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#78350F;fontColor=#FDE68A;strokeColor=#B45309;arcSize=12;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="900" y="697" width="125" height="36" as="geometry" />
        </mxCell>

        <!-- v2.5: webhook_dispatcher -->
        <mxCell id="v25_webhook" value="&lt;font style=&#39;font-size:9px;&#39;&gt;&lt;b&gt;webhook_dispatcher.py&lt;/b&gt;&lt;br&gt;HTTP POST events&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#78350F;fontColor=#FDE68A;strokeColor=#B45309;arcSize=12;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="1035" y="717" width="125" height="36" as="geometry" />
        </mxCell>

        <!-- v2.5: agent_registry -->
        <mxCell id="v25_registry" value="&lt;font style=&#39;font-size:9px;&#39;&gt;&lt;b&gt;agent_registry.py&lt;/b&gt;&lt;br&gt;Agent tracking, protocols, stats&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#78350F;fontColor=#FDE68A;strokeColor=#B45309;arcSize=12;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="900" y="739" width="125" height="36" as="geometry" />
        </mxCell>

        <!-- v2.5: provenance_tracker -->
        <mxCell id="v25_provenance" value="&lt;font style=&#39;font-size:9px;&#39;&gt;&lt;b&gt;provenance_tracker.py&lt;/b&gt;&lt;br&gt;Memory origin, lineage&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#78350F;fontColor=#FDE68A;strokeColor=#B45309;arcSize=12;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="1035" y="759" width="125" height="36" as="geometry" />
        </mxCell>

        <!-- v2.5: trust_scorer -->
        <mxCell id="v25_trust" value="&lt;font style=&#39;font-size:9px;&#39;&gt;&lt;b&gt;trust_scorer.py&lt;/b&gt;&lt;br&gt;Bayesian trust (MACLA)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#78350F;fontColor=#FDE68A;strokeColor=#B45309;arcSize=12;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="965" y="781" width="125" height="36" as="geometry" />
        </mxCell>

        <!-- v2.5 Arrow to main stack (db_connection_manager -> Layer 1) -->
        <mxCell id="v25_arrow_db" value="" style="endArrow=block;endFill=1;html=1;strokeColor=#F59E0B;strokeWidth=1.5;rounded=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.7;entryDx=0;entryDy=0;dashed=1;dashPattern=6 3;" edge="1" source="v25_db" target="L1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- v2.5 Arrow: event_bus -> Layer 9 (dashboard) -->
        <mxCell id="v25_arrow_eventbus" value="" style="endArrow=block;endFill=1;html=1;strokeColor=#F59E0B;strokeWidth=1.5;rounded=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=6 3;" edge="1" target="L9" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1035" y="693" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="880" y="693" />
              <mxPoint x="880" y="258" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- v2.5 Arrow: agent_registry -> Layer 10 (A2A) -->
        <mxCell id="v25_arrow_registry" value="" style="endArrow=block;endFill=1;html=1;strokeColor=#F59E0B;strokeWidth=1.5;rounded=1;entryX=1;entryY=0.8;entryDx=0;entryDy=0;dashed=1;dashPattern=6 3;" edge="1" target="L10" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="900" y="757" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="875" y="757" />
              <mxPoint x="875" y="209" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ============================================================ -->
        <!-- LEGEND                                                       -->
        <!-- ============================================================ -->
        <mxCell id="legend_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#111827;strokeColor=#374151;arcSize=10;opacity=90;" vertex="1" parent="1">
          <mxGeometry x="70" y="570" width="230" height="115" as="geometry" />
        </mxCell>
        <mxCell id="legend_title" value="&lt;font color=&#39;#E5E7EB&#39; style=&#39;font-size:11px;font-weight:bold;&#39;&gt;Legend&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="82" y="575" width="60" height="25" as="geometry" />
        </mxCell>

        <!-- Legend: Live -->
        <mxCell id="legend_live_box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#22C55E;strokeColor=#16A34A;arcSize=30;" vertex="1" parent="1">
          <mxGeometry x="85" y="605" width="14" height="14" as="geometry" />
        </mxCell>
        <mxCell id="legend_live_text" value="&lt;font color=&#39;#D1D5DB&#39; style=&#39;font-size:10px;&#39;&gt;Live (Production)&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="105" y="600" width="110" height="25" as="geometry" />
        </mxCell>

        <!-- Legend: Planned v2.7 -->
        <mxCell id="legend_planned_box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#10B981;strokeColor=#059669;arcSize=30;dashed=1;dashPattern=4 2;" vertex="1" parent="1">
          <mxGeometry x="85" y="628" width="14" height="14" as="geometry" />
        </mxCell>
        <mxCell id="legend_planned_text" value="&lt;font color=&#39;#D1D5DB&#39; style=&#39;font-size:10px;&#39;&gt;Planned v2.7 (A2A)&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="105" y="623" width="120" height="25" as="geometry" />
        </mxCell>

        <!-- Legend: v2.5 In Development -->
        <mxCell id="legend_dev_box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F59E0B;strokeColor=#D97706;arcSize=30;dashed=1;dashPattern=4 2;" vertex="1" parent="1">
          <mxGeometry x="85" y="651" width="14" height="14" as="geometry" />
        </mxCell>
        <mxCell id="legend_dev_text" value="&lt;font color=&#39;#D1D5DB&#39; style=&#39;font-size:10px;&#39;&gt;v2.5 In Development&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="105" y="646" width="130" height="25" as="geometry" />
        </mxCell>

        <!-- Legend: MCP Protocol -->
        <mxCell id="legend_mcp_line" value="" style="endArrow=block;endFill=1;html=1;strokeColor=#8B5CF6;strokeWidth=2;rounded=0;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="85" y="679" as="sourcePoint" />
            <mxPoint x="99" y="679" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend_mcp_text" value="&lt;font color=&#39;#C4B5FD&#39; style=&#39;font-size:10px;&#39;&gt;MCP Protocol (Violet)&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="105" y="669" width="130" height="25" as="geometry" />
        </mxCell>

        <!-- ============================================================ -->
        <!-- LAYER NUMBER BADGES (left side of each layer)                -->
        <!-- ============================================================ -->
        <mxCell id="badge_L1" value="&lt;font color=&#39;#0A0E1A&#39; style=&#39;font-size:9px;font-weight:bold;&#39;&gt;L1&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#F59E0B;strokeColor=#D97706;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="345" y="753" width="24" height="24" as="geometry" />
        </mxCell>
        <mxCell id="badge_L2" value="&lt;font color=&#39;#0A0E1A&#39; style=&#39;font-size:9px;font-weight:bold;&#39;&gt;L2&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#F97316;strokeColor=#EA580C;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="345" y="700" width="24" height="24" as="geometry" />
        </mxCell>
        <mxCell id="badge_L3" value="&lt;font color=&#39;#0A0E1A&#39; style=&#39;font-size:9px;font-weight:bold;&#39;&gt;L3&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#EF4444;strokeColor=#DC2626;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="345" y="636" width="24" height="24" as="geometry" />
        </mxCell>
        <mxCell id="badge_L4" value="&lt;font color=&#39;#0A0E1A&#39; style=&#39;font-size:9px;font-weight:bold;&#39;&gt;L4&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#EC4899;strokeColor=#DB2777;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="345" y="571" width="24" height="24" as="geometry" />
        </mxCell>
        <mxCell id="badge_L5" value="&lt;font color=&#39;#FFFFFF&#39; style=&#39;font-size:9px;font-weight:bold;&#39;&gt;L5&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#A855F7;strokeColor=#9333EA;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="345" y="506" width="24" height="24" as="geometry" />
        </mxCell>
        <mxCell id="badge_L6" value="&lt;font color=&#39;#FFFFFF&#39; style=&#39;font-size:9px;font-weight:bold;&#39;&gt;L6&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#8B5CF6;strokeColor=#7C3AED;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="345" y="441" width="24" height="24" as="geometry" />
        </mxCell>
        <mxCell id="badge_L7" value="&lt;font color=&#39;#FFFFFF&#39; style=&#39;font-size:9px;font-weight:bold;&#39;&gt;L7&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#6366F1;strokeColor=#4F46E5;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="345" y="376" width="24" height="24" as="geometry" />
        </mxCell>
        <mxCell id="badge_L8" value="&lt;font color=&#39;#FFFFFF&#39; style=&#39;font-size:9px;font-weight:bold;&#39;&gt;L8&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#3B82F6;strokeColor=#2563EB;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="345" y="311" width="24" height="24" as="geometry" />
        </mxCell>
        <mxCell id="badge_L9" value="&lt;font color=&#39;#FFFFFF&#39; style=&#39;font-size:9px;font-weight:bold;&#39;&gt;L9&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#06B6D4;strokeColor=#0891B2;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="345" y="246" width="24" height="24" as="geometry" />
        </mxCell>
        <mxCell id="badge_L10" value="&lt;font color=&#39;#FFFFFF&#39; style=&#39;font-size:9px;font-weight:bold;&#39;&gt;L10&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#10B981;strokeColor=#059669;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="345" y="178" width="24" height="24" as="geometry" />
        </mxCell>

        <!-- ============================================================ -->
        <!-- DATA FLOW ANNOTATION                                         -->
        <!-- ============================================================ -->
        <mxCell id="dataflow_label" value="&lt;font color=&#39;#64748B&#39; style=&#39;font-size:10px;font-style:italic;&#39;&gt;Data flows upward through&lt;br&gt;additive enhancement layers&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="75" y="835" width="170" height="40" as="geometry" />
        </mxCell>

        <!-- Upward arrow for data flow annotation -->
        <mxCell id="dataflow_arrow" value="" style="endArrow=block;endFill=1;html=1;strokeColor=#475569;strokeWidth=1.5;rounded=0;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="160" y="837" as="sourcePoint" />
            <mxPoint x="160" y="815" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ============================================================ -->
        <!-- FOOTER — Attribution                                         -->
        <!-- ============================================================ -->
        <mxCell id="footer" value="&lt;font color=&#39;#475569&#39; style=&#39;font-size:9px;&#39;&gt;SuperLocalMemory V2 &amp;copy; 2026 Varun Pratap Bhardwaj &amp;bull; MIT License &amp;bull; github.com/varun369/SuperLocalMemoryV2&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="310" y="860" width="560" height="25" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
